# 云配置

# 常规设置
## 主运行模式
* 1.整理和生成NFO文件并下载图片  
将会移动影片文件到目标目录，在目标目录下生成NFO文件，并下载两张封面图片，并重命名影片文件为`影片名称.年份.后缀名`  
**如果在[本地配置](/chs/client_configuration.html#目录配置)中，设置`刮削目录`与`输出目录`一致，可实现在原目录（刮削目录）下整理和生成NFO文件并下载图片**

* 保留原文件命名的模式1  
将会移动影片文件到目标目录，在目标目录下生成NFO文件，并下载两张封面图片，不重命名影片

* 2.仅通过位置规则整理文件  
仅通过位置规则，将影片文件移动到目标目录中

* 3.更新现有NFO和图片  
根据云配置中`更新模式NFO文件有效期(天)`更新目标目录中现有的NFO文件和图片，有效期从NFO文件和图片的创建时间起计算

* 4.原地刮削  
在影片所在文件夹下直接生成NFO文件，并下载两张封面图片

* 5.原地刮削并重命名  
在影片所在文件夹下直接生成NFO文件，并下载两张封面图片，并重命名影片文件为`影片名称.年份.后缀名`


## 整理模式
整理模式决定了如何处理影片文件，以便将其移动到目标目录或创建与原文件的关联

### 移动
在此模式下，影片文件会被从原始位置移动到目标目录。这意味着原文件将不再保留在其初始目录中，而是在新位置进行管理

### 软链接
软链接模式会在目标目录中创建指向原始影片文件的快捷方式，文件本身仍然保留在原位置

### 硬链接
**文件与链接文件须在同一分区或文件系统下**  
硬链接是文件系统级别的链接，多个硬链接实际上是指向相同的物理文件数据块

### 创建strm文件
此模式会在目标目录中创建一个`.strm`文件，该文件是一个简单的文本文件，包含原始影片文件的路径信息


## 仅下载缺失图片
适用于主运行模式下的`3.更新现有NFO和图片`，只会下载缺失的图片，已有图片不会被重新覆盖

## 匿名演员填充
开启后，获取的元数据中无演员信息，则会自动填充为`佚名`

## tag只保留演员
开启后，`.NFO`后缀的元数据文件的`<tag>`字段只会填充演员名称

# 查找网站设置
## 深度查找
在单个网站上可能无法获取到完整的数据，深度查找功能将依次访问`查找网站顺序`设定的网站  
程序将持续搜索直到在`深度查找字段`中获得到数据或者遍历完所有指定网站为止，实现数据汇总  

* 打开将延长文件处理和完成休眠时间  
  可能会触发部分网站反爬

## TMDB API KEY
* 可选填项

填写长度32位的TMDB API KEY, 填入后可获得更为详细的刮削信息  
申请教程可谷歌搜索`TMDB API KEY申请`

# 文件扫描排除配置
## 排除文件夹
扫描时排除该文件夹，若多个文件夹使用`,`，示例`aa,bb,cc`

# 命名规则设置
| 变量               | 解释          |
|------------------|-------------|
| `title`          | 片名          |
| `original_title` | 原生片名（未翻译片名） |
| `actor`          | 演员          |
| `studio`         | 公司          |
| `director`       | 导演          |
| `release`        | 发售日         |
| `year`           | 发行年份        |
| `number`         | 影片号码        |
| `cover`          | 封面链接        |
| `tag`            | 类型          |
| `outline`        | 简介          |
| `runtime`        | 时长          |
| `series`         | 系列          |
| `prefix`         | 号码前缀        |
| `letter`         | 号码首字母       |
| `season`         | 剧集的季        |
| `episode`        | 剧集的集        |
| `suffix`         | 文件拓展名         |

| 分辨率变量      |  |  |  |  |  |  |  |  |
|------------|-------|-------|-------|-------|------|------|------|------|
| `resolution` | 4320p | 2160p | 1440p | 1080p | 720p | 480p | 360p | 144p |
| `resolution2` | 8k    | 4k    | 2k    | 1080p | 720p | 480p | 360p | 144p |
| `resolution3` | 8k    | 4k    | 2k    | fhd   | hd   | sd   | sd   | sd   |
| `resolution4` | uhd   | uhd   | qhd   | fhd   | hd   | sd   | sd   | sd   |

程序先从文件名获取分辨率
* 若要**分辨率**大写，大写填写即可，`RESOLUTION` `RESOLUTION2`
* 若要**文件拓展名**大写，大写填写即可，`SUFFIX`

## 自定义规则方法
请勿使用`%` `$` `&`等在文件路径中的非法字符  

* `genres/title`
* `actor/[number]-title`
* `actor/number`
* `#actor/number`
* `title-resolution`
* `title-resolution2`
* `title-RESOLUTION2`

## 文件夹路径规则
媒体文件处理完成后，输出到此设置的路径中

## 媒体文件命名规则
媒体文件处理完成后的命名规则，如果`主运行模式`为`保留原文件命名的模式1`，则改设置不生效

## 媒体文件命名带后缀
媒体文件处理成功后，打开则命名含`-4K` `-VR` `-C`等后缀

## 元数据文件标题命名规则
这是`.NFO`后缀的元数据文件内`<title>`字段命名规则，与文件名和文件夹名无关，用于在Emby, Jellyfin, Plex中显示标题

## 标题指定字符删除
标题指定字符删除，如输入`\()`，则删除标题中`\()`字符

## 号码提取排除字符
号码提取时，排除干扰提取号码的字符，用`,`分割，示例`xxx.com@,bbb.net,ccc.top`

# OpenAI配置
::: tip
已测试可用的OpenAI API  
### [SiliconFlow](https://account.siliconflow.com/zh/login)  
* Base URL `https://api.ap.siliconflow.com/v1`
* Model `deepseek-ai/DeepSeek-V3`  
* [API Key](https://cloud.siliconflow.com/account/ak)  
:::

* 在上述已测试可用网站注册账号
* 进入[云配置](https://user.mvdc.top/configuration/other)
* 于OpenAI配置，填写`Base URL` `API Key` `Model模型` 
* 翻译引擎选择`OpenAI`


# 水印配置
## 水印风格
* 参考水印文字语言为英文
### 经典
![](/images/watermark1.png)
### X风格
![](/images/watermark2.png)

## 字段转换设置
[自定义字段映射表](/chs/client_configuration.html#自定义字段映射表)